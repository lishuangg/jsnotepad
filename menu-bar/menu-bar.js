var $menubar=function(){var c,p,h,o=$('<div class="notepad-menu-bar"></div>'),u=1;return{show:function(s,a){c=s,p=a,function(){$(p).append(o);var s=$('<ul class="menu-frist"></ul>');o.append(s);for(var a=0;a<c.length;a++){var t=$('<li class="title">'+c[a].title+"</li>");t.attr("data-id",a),s.append(t);var i=$('<ul class="menu-second"></ul>');t.append(i),i.css({width:c[a].width,left:c[a].left,display:"none"});for(var e=c[a].menuItems,n=0;n<e.length;n++)if("hr"!==e[n].title){var l=$('<li class="menu-item">'+e[n].title+"</li>");if(l.attr("data-x",a),l.attr("data-y",n),""!==e[n].shortcut){var d=$('<span class="shortcut">'+e[n].shortcut+"</span>");l.append(d)}e[n].enabled||l.addClass("disabled"),i.append(l)}else{var r=$('<li class="menu-hr"></li>');i.append(r)}}$(".title").click(function(s){if(1===u){$(this).children().css({display:"inline-block"});var a=Number(this.dataset.id);h=a,u++}else{a=Number(this.dataset.id);h==a?($(this).children().css({display:"none"}),u--):($(this).children().css({display:"inline-block"}),h=a)}$(this).siblings().children().css({display:"none"}),s.stopPropagation()}),$(".menu-item").click(function(s){if(s.stopPropagation(),!$(this).hasClass("disabled")){var a=this.dataset.x,t=this.dataset.y;$(this).parent().css({display:"none"}),u--,c[a].menuItems[t].handler()}})}()}}}();