var $dlgFont=function(){$dlg=$('<div class="notepad-dlg notepad-dlg-font">     <div class="dialogbox">        <div class="notepad-dlg-titlebar">            <p class="font-title">字体</p>            <span class="close-btn">x</span>        </div>        <div class="notepad-dlg-main">        <div class="font-family"><p>字体(F):</p></div>        <div class="font-style"><p>字形(Y):</p></div>        <div class="font-size"><p>大小(S):</p></div>        <fieldset class="example" id="example">            <legend>示例</legend>            <p>AaBbYyZz</p>       </fieldset>        <div class="script">           <label>                脚本(R):<br>                <select>                    <option value="西欧语言">西欧语言</option>                    <option value="中文 GB2312">中文 GB2312</option>                </select>            </label>        </div>            <input class="btn-sure btn" type="button" value="确定">            <input class="btn-cancel btn" type="button" value="取消">        </div>    </div></div>'),cfg={container:"body",family:"Arial",style:"常规",size:"16",onClick:null};var t,e=$dlg.find("#example>p"),l=["宋体","黑体","微软雅黑","仿宋","楷体","隶书","幼圆","华文楷体","华文宋体","方正舒体","方正姚体","Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],n=["常规","斜体","粗体","粗偏斜体"],i=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"];function s(){e.css({"font-family":cfg.family,"font-size":cfg.size+"px"}),"斜体"!==cfg.style?"粗体"!==cfg.style?"粗偏斜体"!==cfg.style||e.css({"font-weight":"bold","font-style":"italic"}):e.css({"font-weight":"bold"}):e.css({"font-style":"italic"})}return{show:function(e){return $(cfg.container).append($dlg),$.extend(cfg,e),$(".dialogbox").draggable({handle:".notepad-dlg-titlebar"}),$(".close-btn").click(function(){$dlg.remove()}),$(".btn-sure").click(function(){t={family:cfg.family,style:cfg.style,size:cfg.size},cfg.onClick(t),$dlg.remove()}),$(".btn-cancel").click(function(){$dlg.remove()}),(new fontList).show({container:".notepad-dlg-font .font-family",width:"176px",list:l,selectIndex:l.indexOf(cfg.family),isFontFamily:!0,select:function(e){cfg.family=l[e],s()}}),(new fontList).show({container:".notepad-dlg-font .font-style",width:"132px",list:n,selectIndex:n.indexOf(cfg.style),isFontStyle:!0,select:function(e){cfg.style=n[e],s()}}),(new fontList).show({container:".notepad-dlg-font .font-size",width:"64px",list:i,selectIndex:i.indexOf(cfg.size),isFontSize:!0,select:function(e){cfg.size=i[e],s()}}),s(),t}}}();